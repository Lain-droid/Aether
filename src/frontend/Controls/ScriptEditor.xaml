<UserControl x:Class="AetherVisor.Frontend.Controls.ScriptEditor"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:avalonedit="http://icsharpcode.net/sharpdevelop/avalonedit"
             Background="Black">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="40"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Line numbers -->
        <Border Background="#111">
            <ScrollViewer VerticalScrollBarVisibility="Hidden" HorizontalScrollBarVisibility="Disabled">
                <TextBlock x:Name="PART_LineNumbers" Foreground="#666" Margin="6,8" FontFamily="Consolas" FontSize="14"/>
            </ScrollViewer>
        </Border>

        <!-- Editor -->
        <Grid Grid.Column="1">
            <avalonedit:TextEditor x:Name="PART_Avalon"
                                   ShowLineNumbers="True"
                                   FontFamily="Consolas"
                                   FontSize="14"
                                   Background="#000" Foreground="#EEE"
                                   SyntaxHighlighting="Lua"
                                   Text="{Binding Text, RelativeSource={RelativeSource AncestorType=UserControl}, UpdateSourceTrigger=PropertyChanged}"
                                   />
            <Popup x:Name="PART_Popup" Placement="MousePoint" StaysOpen="False">
                <Border Background="#111" BorderBrush="#333" BorderThickness="1">
                    <ListBox x:Name="PART_ListBox" Background="#111" Foreground="#EEE"/>
                </Border>
            </Popup>
        </Grid>
    </Grid>
</UserControl>
